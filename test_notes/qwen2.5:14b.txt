 curl -s http://127.0.0.1:11434/api/chat \
  -H "Content-Type: application/json" \
  -d "$(jq -n \
    --arg system "$(cat system_prompt2.txt)" \
    --arg user "$(cat test_words.txt)" \
    '{
      model: "qwen2.5:14b",
      messages: [
        {role:"system", content:$system},
        {role:"user", content:$user}
      ],
      stream: false
    }')"
{"model":"qwen2.5:14b","created_at":"2025-12-18T09:34:57.738697Z","message":{"role":"assistant","content":"{\"word\":\"se cae\",\"definition\":\"fall down\"}\n{\"word\":\"pesqué\",\"definition\":\"I caught; I fished for\"}\n{\"word\":\"sumar\",\"definition\":\"to add; to total\"}\n{\"word\":\"bañarse\",\"definition\":\"to bathe oneself\"}\n{\"word\":\"tratar\",\"definition\":\"to treat; to deal with\"}\n{\"word\":\"se dice\",\"definition\":\"one says\"}\n{\"word\":\"festival\",\"definition\":\"festival; celebration\"}\n{\"word\":\"eran\",\"definition\":\"they were; you (plural) were\"}\n{\"word\":\"escribes\",\"definition\":\"you write\"}\n{\"word\":\"a ti te gusta\",\"definition\":\"you like\"}"},"done":true,"done_reason":"stop","total_duration":8374571208,"load_duration":1527613083,"prompt_eval_count":325,"prompt_eval_duration":1449744375,"eval_count":137,"eval_duration":5394852208}%


curl -s http://127.0.0.1:11434/api/chat \
  -H "Content-Type: application/json" \
  -d "$(jq -n \
    --arg system "$(cat prompts/system_prompt3.txt)" \
    --arg user "$(cat test_set/test_words.txt)" \
    '{
      model: "qwen2.5:14b",
      messages: [
        {role:"system", content:$system},
        {role:"user", content:$user}
      ],
      stream: false
    }')"
{"model":"qwen2.5:14b","created_at":"2025-12-18T09:50:34.529751Z","message":{"role":"assistant","content":"{\"word\":\"se cae\",\"definition\":\"falls\"}\n{\"word\":\"pesqué\",\"definition\":\"I caught (fish)\"}\n{\"word\":\"sumar\",\"definition\":\"to add\"}\n{\"word\":\"bañarse\",\"definition\":\"to bathe oneself\"}\n{\"word\":\"tratar\",\"definition\":\"to treat; to try\"}\n{\"word\":\"se dice\",\"definition\":\"it is said\"}\n{\"word\":\"festival\",\"definition\":\"festival\"}\n{\"word\":\"estaban\",\"definition\":\"they / you-plural were\"}\n{\"word\":\"escribes\",\"definition\":\"you write\"}\n{\"word\":\"a ti te gusta\",\"definition\":\"you like (it)\"}"},"done":true,"done_reason":"stop","total_duration":7625389083,"load_duration":46952500,"prompt_eval_count":506,"prompt_eval_duration":2046179625,"eval_count":130,"eval_duration":5530111333}%


 curl -s http://127.0.0.1:11434/api/chat \
  -H "Content-Type: application/json" \
  -d "$(jq -n \
    --arg system "$(cat prompts/system_prompt4.txt)" \
    --arg user "$(cat test_set/test_words.txt)" \
    '{
      model: "qwen2.5:14b",
      messages: [
        {role:"system", content:$system},
        {role:"user", content:$user}
      ],
      stream: false
    }')"

{"model":"qwen2.5:14b","created_at":"2025-12-18T09:57:14.093569Z","message":{"role":"assistant","content":"{\"word\":\"se cae\",\"definition\":\"(he / she / it) falls\"}\n{\"word\":\"pesqué\",\"definition\":\"(I) caught (fish)\"}\n{\"word\":\"sumar\",\"definition\":\"to add; to sum up\"}\n{\"word\":\"bañarse\",\"definition\":\"to bathe oneself\"}\n{\"word\":\"tratar\",\"definition\":\"to treat\"}\n{\"word\":\"se dice\",\"definition\":\"it is said\"}\n{\"word\":\"festival\",\"definition\":\"festival\"}\n{\"word\":\"estaban\",\"definition\":\"(they / you-plural) were\"}\n{\"word\":\"escribes\",\"definition\":\"(you) write\"}\n{\"word\":\"a ti te gusta\",\"definition\":\"you like (it)\"}"},"done":true,"done_reason":"stop","total_duration":9108262500,"load_duration":51730125,"prompt_eval_count":658,"prompt_eval_duration":2699042750,"eval_count":144,"eval_duration":6354958375}%

 curl -s http://127.0.0.1:11434/api/chat \
  -H "Content-Type: application/json" \
  -d "$(jq -n \
    --arg system "$(cat prompts/system_prompt5.txt)" \
    --arg user "$(cat test_set/test_words.txt)" \
    '{
      model: "qwen2.5:14b",
      messages: [
        {role:"system", content:$system},
        {role:"user", content:$user}
      ],
      stream: false
    }')"

    {"model":"qwen2.5:14b","created_at":"2025-12-18T10:16:31.601748Z","message":{"role":"assistant","content":"{\"word\":\"se cae\",\"definition\":\"(he/she/it) falls down\"}\n{\"word\":\"pesqué\",\"definition\":\"(I) caught (some fish)\"}\n{\"word\":\"sumar\",\"definition\":\"add; total up, score points\"}\n{\"word\":\"bañarse\",\"definition\":\"take a bath, take a shower\"}\n{\"word\":\"tratar\",\"definition\":\"try to do sth, attempt; deal with, treat (sb/sth)\"}\n{\"word\":\"se dice\",\"definition\":\"it is said\"}\n{\"word\":\"festival\",\"definition\":\"festival\"}\n{\"word\":\"estaban\",\"definition\":\"(they / you-all) were\"}\n{\"word\":\"escribes\",\"definition\":\"(you formal - imperative) write (sth)\"}\n{\"word\":\"a ti te gusta\",\"definition\":\"you like (it)\"}\n{\"word\":\"déselo\",\"definition\":\"(you formal imperative) give it to him/her\"}"},"done":true,"done_reason":"stop","total_duration":13919907375,"load_duration":1289671084,"prompt_eval_count":820,"prompt_eval_duration":3341785541,"eval_count":189,"eval_duration":9284167709}%


     curl -s http://127.0.0.1:11434/api/chat \
  -H "Content-Type: application/json" \
  -d "$(jq -n \
    --arg system "$(cat prompts/system_prompt6.txt)" \
    --arg user "$(cat test_set/test_words.txt)" \
    '{
      model: "qwen2.5:14b",
      messages: [
        {role:"system", content:$system},
        {role:"user", content:$user}
      ],
      stream: false
    }')"
{"model":"qwen2.5:14b","created_at":"2025-12-18T10:22:45.98849Z","message":{"role":"assistant","content":"{\"word\":\"se cae\",\"definition\":\"(it) falls\"}\n{\"word\":\"pesqué\",\"definition\":\"you (informal) caught\"}\n{\"word\":\"sumar\",\"definition\":\"(to) sum, add\"}\n{\"word\":\"bañarse\",\"definition\":\"(to) bathe; take a bath\"}\n{\"word\":\"tratar\",\"definition\":\"(to) treat; deal with\"}\n{\"word\":\"se dice\",\"definition\":\"it is said\"}\n{\"word\":\"festival\",\"definition\":\"festival\"}\n{\"word\":\"estaban\",\"definition\":\"they (informal) were\"}\n{\"word\":\"escribes\",\"definition\":\"you (informal) write\"}\n{\"word\":\"a ti te gusta\",\"definition\":\"you like (it)\"}\n{\"word\":\"déselo\",\"definition\":\"give it to him / her\"}"},"done":true,"done_reason":"stop","total_duration":10837867458,"load_duration":1283099666,"prompt_eval_count":527,"prompt_eval_duration":2233354666,"eval_count":165,"eval_duration":7316878292}%

     curl -s http://127.0.0.1:11434/api/chat \
  -H "Content-Type: application/json" \
  -d "$(jq -n \
    --arg system "$(cat prompts/system_prompt7.txt)" \
    --arg user "$(cat test_set/test_words.txt)" \
    '{
      model: "qwen2.5:14b",
      messages: [
        {role:"system", content:$system},
        {role:"user", content:$user}
      ],
      stream: false
    }')"

    {"model":"qwen2.5:14b","created_at":"2025-12-18T10:31:02.503682Z","message":{"role":"assistant","content":"{\"word\":\"se cae\",\"definition\":\"it falls\"}\n{\"word\":\"pesqué\",\"definition\":\"(I) fished, (he / she / it) fished\"}\n{\"word\":\"sumar\",\"definition\":\"(to) add, (to) sum up\"}\n{\"word\":\"bañarse\",\"definition\":\"(to) take a bath, (to) bathe (oneself)\"}\n{\"word\":\"tratar\",\"definition\":\"(to) treat, (to) handle, (to) deal with\"}\n{\"word\":\"se dice\",\"definition\":\"it is said\"}\n{\"word\":\"festival\",\"definition\":\"festival\"}\n{\"word\":\"estaban\",\"definition\":\"(they / you-plural) were\"}\n{\"word\":\"escribes\",\"definition\":\"(you) write\"}\n{\"word\":\"a ti te gusta\",\"definition\":\"you like (it)\"}\n{\"word\":\"déselo\",\"definition\":\"give it to him / her (polite imperative)\"}"},"done":true,"done_reason":"stop","total_duration":12314784417,"load_duration":48712500,"prompt_eval_count":733,"prompt_eval_duration":2921575541,"eval_count":196,"eval_duration":9338761792}%






for prompt in prompts/system_prompt*.txt; do
  echo
  echo "=============================="
  echo "PROMPT: $(basename "$prompt")"
  echo "=============================="

  CONTENT=$(
    curl -sN http://127.0.0.1:11434/api/chat \
      -H "Content-Type: application/json" \
      -d "$(jq -n \
        --arg system "$(cat "$prompt")" \
        --arg user "$(cat test_set/test_words.txt)" \
        '{
          model: "qwen2.5:14b",
          messages: [
            {role:"system", content:$system},
            {role:"user", content:$user}
          ],
          stream: true
        }')" \
    | jq -rj '.message.content // empty'
  )

  # Pretty-print: word → definition
  printf '%s\n' "$CONTENT" \
    | while IFS= read -r line; do
        [ -z "$line" ] && continue
        WORD=$(printf '%s' "$line" | jq -r '.word' 2>/dev/null)
        DEF=$(printf '%s' "$line" | jq -r '.definition' 2>/dev/null)
        if [ "$WORD" = "null" ] || [ "$DEF" = "null" ]; then
          echo "! bad line: $line"
        else
          echo "- $WORD → $DEF"
        fi
      done
done


==============================
PROMPT: system_prompt1.txt
==============================
- se cae → it falls; it is falling down
- pesqué → (I / you) caught (preterite of pescar)
- sumar → (to) add; to sum up; to total
- bañarse → (to) bathe (oneself)
- tratar → (to) treat; to handle
- se dice → it is said (literally: it says itself)
- festival → festival; celebration
- estaban → (they / you-plural) were (present of estar)
- escribes → you write (present Ud. imperative of escribir)
- a ti te gusta → (to) you like something; you enjoy it
- déselo → give it to him / her (Ud. imperative of dar)

==============================
PROMPT: system_prompt2.txt
==============================
- se cae → falls
- pesqué → I caught
- sumar → to add; to score (in sports)
- bañarse → to bathe oneself
- tratar → to treat; to deal with
- se dice → it is said
- festival → festival
- estaban → they were; you (plural) were
- escribes → you write
- a ti te gusta → you like
- déselo → give it to him/her/it

==============================
PROMPT: system_prompt3.txt
==============================
- se cae → falls
- pesqué → (I) caught (it)
- sumar → to add
- bañarse → to bathe oneself
- tratar → to treat / to try
- se dice → it is said
- festival → festival
- estaban → (they / you-plural) were
- escribes → (you) write
- a ti te gusta → you like (it)
- déselo → give it to him / her / them

==============================
PROMPT: system_prompt4.txt
==============================
- se cae → (he / she / it) falls
- pesqué → (I) caught (fish)
- sumar → to add
- bañarse → to bathe (oneself)
- tratar → to treat; to handle
- se dice → it is said
- festival → festival
- estaban → (they / you-plural) were
- escribes → (you) write
- a ti te gusta → you like (it)
- déselo → give it to him/her

==============================
PROMPT: system_prompt5.txt
==============================
- se cae → (he/she/it) falls down
- pesqué → (I) caught, landed (a fish)
- sumar → to add, sum up; score
- bañarse → to bathe oneself
- tratar → to treat, deal with; try, attempt
- se dice → it is said
- festival → festival
- estaban → (they / you-all) were (imperfect plural)
- escribes → (you formal) write
- a ti te gusta → you like (it)
- déselo → (you formal imperative) give it

==============================
PROMPT: system_prompt6.txt
==============================
- se cae → it falls
- pesqué → (I) caught (it)
-  →
-  →
-  →
- se dice → it is said
- festival → festival
- estaban → (they / you-plural) were
- escribes → (you) write
- a ti te gusta → you like (it)
- déselo → (you formal imperative) give (it)

==============================
PROMPT: system_prompt7.txt
==============================
- se cae → (it) falls
- pesqué → (I) caught (it)
-  →
- bañarse → (he / she / it) bathes
- tratar → (to) treat, deal with
- se dice → it is said
- festival → festival
- estaban → (they / you-plural) were
- escribes → (you) write
- a ti te gusta → you like (it)
- déselo → give it to him / her (you formal imperative)